<p-toast position="top-left" [baseZIndex]="99999"></p-toast>

<div class="card">
  <p-table
    [value]="data"
    sortField="folio"
    sortMode="single"
    rowGroupMode="subheader"
    groupRowsBy="folio"
    styleClass="custom-table"
  >
    <ng-template pTemplate="caption">
      <app-table-header
        [title]="'Agenda entrevistas'"
        [showAdd]="false"
        [showSearch]="false"
      ></app-table-header>
    </ng-template>
    <ng-template pTemplate="groupheader" let-item>
      <tr pRowGroupHeader>
        <td colspan="8">
          Solicitud: {{ item.fechaSolicitud }}, Folio: {{ item.folio }}, Puesto:
          {{ item.profession }}
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 15%" scope="col" class="small">CANDIDADATO</th>
        <th style="width: 10%" scope="col" class="small">FUENTE</th>
        <th style="width: 10%" scope="col" class="small">TELÉFONO</th>
        <th style="width: 7%" scope="col" class="small">CV</th>
        <th style="width: 10%" scope="col" class="small">CITA</th>
        <th style="width: 10%" scope="col" class="small">DECISIÓN</th>
        <th style="width: 33%" scope="col" class="small">COMENTARIOS</th>
        <th style="width: 5%" scope="col" class="small"></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td class="p-column-title">
          {{ item.candidate }}
        </td>
        <td class="p-column-title">
          {{ item.fuente }}
        </td>
        <td class="p-column-title">
          {{ item.phone }}
        </td>
        <td class="p-column-title text-center">
          @if(item.curriculumn){
          <a
            [href]="pathPdf + item.curriculumn"
            _blank
            download
            ngbTooltip="Descargar C.V."
            placement="top"
            class="btn btn-soft-danger btn-sm w-xs waves-effect btn-label waves-light me-1 hide-print-mode"
          >
            <i class="fa-duotone fa-download label-icon fa-2x pointer"></i>
            Pdf
          </a>
          }@else{
          <p class="text-center text-danger">SIN CV</p>
          }
        </td>
        <td class="p-column-title">{{ item.date }}</td>

        <td class="p-column-title">
          {{ item.decision }}
        </td>
        <td class="p-column-title">
          {{ item.comments }}
        </td>
        <!-- Opciones -->
        <td class="p-column-title">
          <div class="d-flex justify-content-center">
            <custom-button-edit
              (edit)="
                onModalAddOrEdit({
                  id: item.id,
                  title: 'Editar Registro',
                  workPositionRequestId: item.workPositionRequestId
                })
              "
            ></custom-button-edit>
          </div>
        </td>
        <!-- Opciones -->
      </tr>
    </ng-template>
  </p-table>
</div>
