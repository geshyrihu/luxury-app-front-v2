<p-toast position="top-left" [baseZIndex]="99999"></p-toast>

<div class="card">
  <p-table
    #dt
    [autoLayout]="true"
    [globalFilterFields]="['shortName', 'largeName']"
    [value]="data"
    styleClass="custom-table"
  >
    <ng-template pTemplate="caption">
      <app-table-header
        title="Servicios realizados"
        [showAdd]="fasle"
        [dt]="dt"
      ></app-table-header>
    </ng-template>

    <ng-template pTemplate="header">
      <tr>
        <th scope="col" pSortableColumn="executionDate">
          Fecha<p-sortIcon field="executionDate"></p-sortIcon>
        </th>
        <th scope="col" pSortableColumn="typeMaintance">
          Tipo de mantenimiento<p-sortIcon field="typeMaintance"></p-sortIcon>
        </th>
        <th scope="col" pSortableColumn="recurrence">
          Frecuencia<p-sortIcon field="recurrence"></p-sortIcon>
        </th>
        <th scope="col" pSortableColumn="provider">
          Proveedor<p-sortIcon field="provider"></p-sortIcon>
        </th>
        <th scope="col" pSortableColumn="price">
          Costo<p-sortIcon field="price"></p-sortIcon>
        </th>
        <th scope="col" pSortableColumn="employeeResponsable">
          Superviso<p-sortIcon field="employeeResponsable"></p-sortIcon>
        </th>
        <th scope="col"></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td class="p-column-title">{{ item.executionDate }}</td>
        <td class="p-column-title">{{ item.typeMaintance }}</td>
        <td class="p-column-title">{{ item.recurrence }}</td>
        <td class="p-column-title">{{ item.provider }}</td>
        <td class="p-column-title">{{ item.price }}</td>
        <td class="p-column-title">{{ item.employeeResponsable }}</td>
        <td class="p-column-title">
          <div class="d-flex justify-content-center">
            <custom-button-edit
              (edit)="
                onEdit({
                  id: item.id,
                  title: 'Editar Registro',
                  machineryId: item.machineryId,
                  providerId: item.providerId
                })
              "
            ></custom-button-edit>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
